{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAM,CACVC,OAAQC,SAASC,cAAc,UAIjC,IAAIC,EAAa,EACbC,EAAY,EACZC,EAAoB,EACpBC,EAAW,EAwBf,SAASC,EAAcC,EAAUC,GAE/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GAExCC,YAAW,KACLH,EACAF,EAAQ,CAAEM,SAAAT,EAAUU,WAAAT,IAEpBG,EAAO,CAAEK,SAAAT,EAAUU,WAAAT,GAAa,GAEjCA,EAAW,G,CAjClBV,EAAKC,OAAOmB,iBAAiB,UAC7B,SAAkBC,GAChBA,EAAEC,iBACF,MAAMC,MAACA,EAAKC,KAAEA,EAAIC,OAAEA,GAAUzB,EAAKC,OAAOyB,SAC1CtB,EAAauB,OAAOJ,EAAMK,OAC1BvB,EAAYsB,OAAOH,EAAKI,OACxBtB,EAAoBqB,OAAOF,EAAOG,OAClC5B,EAAKC,OAAO4B,QAEZ,IAAK,IAAIC,EAAI,EAAGA,GAAKxB,EAAmBwB,GAAG,EACzCvB,EAAWuB,EACXtB,EAAcD,EAAUH,GACrB2B,MAAK,EAAGb,SAAAc,EAAUb,WAAAc,MACjBC,EAAApC,GAASqC,OAAOC,QAAQ,uBAAqBJ,QAAiBC,MAAe,IAE9EI,OAAM,EAAGnB,SAAAoB,EAAUnB,WAAAoB,MAClBL,EAAApC,GAASqC,OAAOK,QAAQ,sBAAoBF,QAAeC,MAAe,IAE9EnC,GAAcC,C","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs ={\n  formEl: document.querySelector('.form'),\n}\n\n\nlet firstDelay = 0;\nlet delayStep = 0;\nlet amountRepetitions = 0;\nlet position = 0;\n\nrefs.formEl.addEventListener('submit', onSubmit)\nfunction onSubmit(e) {\n  e.preventDefault();\n  const {delay, step, amount} = refs.formEl.elements;\n  firstDelay = Number(delay.value);\n  delayStep = Number(step.value);\n  amountRepetitions = Number(amount.value);\n  refs.formEl.reset();\n\n  for (let i = 1; i <= amountRepetitions; i+=1) {\n    position = i;\n    createPromise(position, firstDelay)\n      .then(({ position, firstDelay }) => {\n        Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${firstDelay}ms`);\n      })\n      .catch(({ position, firstDelay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${firstDelay}ms`);\n      })\n    firstDelay += delayStep;\n  }\n};\n\nfunction createPromise(position, firstDelay) {\n  \n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    \n  setTimeout(() => {\n    if (shouldResolve) {\n        resolve({ position, firstDelay })\n      } else {\n        reject({ position, firstDelay })\n      }\n    }, firstDelay)\n  })\n};\n  \n"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$refs","formEl","document","querySelector","$47d4ff9957288465$var$firstDelay","$47d4ff9957288465$var$delayStep","$47d4ff9957288465$var$amountRepetitions","$47d4ff9957288465$var$position","$47d4ff9957288465$var$createPromise","position3","firstDelay3","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","position","firstDelay","addEventListener","e","preventDefault","delay","step","amount","elements","Number","value","reset","i","then","position1","firstDelay1","$parcel$interopDefault","Notify","success","catch","position2","firstDelay2","failure"],"version":3,"file":"03-promises.a8736468.js.map"}